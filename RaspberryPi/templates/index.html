<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<script src="../static/scripts/htmx.min.js"></script>
		<link rel="stylesheet" href="../static/styles/style.css" />
	</head>
	<body>
		{% block body %}

		<h1>Access cards</h1>

		<table>
			<tr>
				<th></th>
				<th>Code</th>
				<th>Locked</th>
			</tr>
			{% if access_cards|length == 0 %}
			<tr>
				<th colspan="3">No records found</th>
			</tr>
			{% else %} {% for access_card in access_cards %}
			<tr>
				<td>
					<button
						hx-delete="/api/access_card/{{access_card[0]}}"
						hx-confirm="Are you sure you want to remove?"
					>
						Delete
					</button>
				</td>
				<td>{{access_card[0]}}</td>
				<td>
					<input type="checkbox" name="" id="" {{ "checked" if
					access_card[1] == True }}
					hx-patch="/api/access_card/{{access_card[0]}}"/>
				</td>
			</tr>
			{% endfor %} {% endif %}
		</table>

		<br />
		<form>
			<label for="ac_code">Card code:</label>
			<input type="text" name="ac_code" id="ac_code" /> <br />
			<label for="ac_locked">Locked:</label>
			<input type="checkbox" name="ac_locked" id="ac_locked" /> <br />
			<button hx-post="/api/access_card/">Add</button>
		</form>

		<h1>Access attempts</h1>

		<table>
			<tr>
				<th>Card</th>
				<th>Attempt time</th>
				<th>Accepted</th>
				<th>Reasoning</th>
			</tr>
			{% if access_attempts|length == 0 %}
			<tr>
				<td colspan="5">No records found</td>
			</tr>
			{% else %} {% for access_attempt in access_attempts %}
			<tr>
				<td>{{access_attempt[1]}}</td>
				<td>{{access_attempt[2]}}</td>
				<td>
					<input type="checkbox" name="" id="" {{ "checked" if
					access_attempt[3] == True }} onclick="return false;" />
				</td>
				<td>{{access_attempt[4]}}</td>
			</tr>
			{% endfor %} {% endif %}
		</table>

		{% endblock %}
	</body>
</html>
